
@{
    Layout = null;
}
<section class="content"  ng-init="ctrl.onInit()">
    <div ng-show="ctrl.showFormUser">
            <div class="panel mb25 mt5">
             
                <div class="panel-body p20 pb10">
                    <div class="admin-form">
                        <div class="section row mb10">
                            <label for="firstName" class="field-label col-md-3 text-center">First Name:</label>
                            <div class="col-md-9">
                                <label for="account-name" id="firstName" class="field prepend-icon">
                                    <input ng-model="ctrl.FirstName" ng-disabled="true" type="text" class="gui-input">
                                </label>
                            </div>
                        </div>

                            <div class="section row mb10">
                                <label for="lastName" class="field-label col-md-3 text-center">Last Name:</label>
                                <div class="col-md-9">
                                    <label for="account-name" id="lastName" class="field prepend-icon">
                                        <input ng-model="ctrl.LastName" ng-disabled="true" type="text" class="gui-input">
                                    </label>
                                </div>
                            </div>
                        </div>
                    <button ng-show="canAdd" class="btn-danger pull-right"  data-ng-click="ctrl.selectUser()">
                        SELECT USER
                    </button>
                    <button ng-show="canAdd" class="btn-danger pull-right" data-ng-click="ctrl.saveUser()">
                        SAVE
                    </button>
                </div>

            </div>

            <div class="panel mb25 mt5">
                <div class="panel-heading">
                    <span class="panel-title"> User Access</span>
                </div>
                <div class="panel-body">
                    <table class="table admin-form theme-warning tc-checkbox-1 fs13">
                        <thead>
                            <tr class="bg-light">
                                <th class="text-center">Menu</th>
                                <th class="text-center">Add</th>
                                <th class="text-center">Edit</th>
                                <th class="text-center">Delete</th>
                                <th class="text-center">View</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="m in ctrl.allMenu">
                                <td class="text-left">
                                    <label class="option block mn">
                                        {{m.Name}}
                                    </label>
                                </td>
                                <td class="text-center">
                                    <label class="option block mn">
                                        <input type="checkbox"   data-ng-model="m.canAdd">
                                        <span class="checkbox mn"></span>
                                    </label>
                                </td>
                                <td class="text-center">
                                    <label class="option block mn">
                                        <input type="checkbox" data-ng-model="m.canEdit" >
                                        <span class="checkbox mn"></span>
                                    </label>
                                </td>
                                <td class="text-center">
                                    <label class="option block mn">
                                        <input type="checkbox" data-ng-model="m.canDelete" >
                                        <span class="checkbox mn"></span>
                                    </label>
                                </td>
                                <td class="text-center">
                                    <label class="option block mn">
                                        <input type="checkbox" data-ng-model="m.canView">
                                        <span class="checkbox mn"></span>
                                    </label>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
        </div>
</section>


<div id="modalUser" class="popup-basic bg-none mfp-with-anim mfp-hide">
    <div class="panel">
        <!--Modal Header-->
        <div class="panel-heading">
            <span class="panel-title"><i class="glyphicon glyphicon-tasks"></i>User List</span>
        </div>
        <div class="panel-body" style="height:450px">
            <div class='form-group form-group-sm'>

                <input type='text' placeholder="Type User Name..." class='form-control' ng-model="ctrl.userTxt">
            </div>
            <div style="overflow:scroll; height:400px;">
                <table class="table table-hover dataTable no-footer"
                       context-menu data-target="menu-table">
                    <tr>
                        <th>Name</th>
                    </tr>
                    <tr ng-show="ctrl.userList.length <= 0"><td colspan="8" style="text-align:center;">NO data!!</td></tr>
                    <tr ng-repeat="user in ctrl.userList | filter:ctrl.userTxt ">
                        <td ng-click="ctrl.selectedUser(user)">{{user.FirstName}} {{user.LastName}} </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="panel-footer text-right">
            <button class="btn btn-danger" type="submit" data-ng-click="ctrl.Cancel()">Close</button>
        </div>
    </div>
</div>


<script type="text/javascript">
    jQuery(document).ready(function () {
        $("#tree3").fancytree({
            selectMode: 3,
            checkbox: true, // Show checkboxes.
            clickFolderMode: 2, // 1:activate, 2:expand, 3:activate and expand, 4:activate (dblclick expands)
        });
    })
 </script>